{"version":3,"sources":["./src/app/tab2/tab2.page.scss","./src/app/tab2/tab2.page.ts","./src/app/tab2/tab2.module.ts","./src/app/tab2/tab2-routing.module.ts","./src/app/tab2/tab2.page.html"],"names":[],"mappings":"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","file":"tab2-tab2-module.js","sourcesContent":["export default \"ion-content ion-toolbar {\\n  --background: translucent;\\n}\\n\\n.box {\\n  height: 150px;\\n  margin: 20px;\\n  border-radius: 15px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  font-size: 5vw;\\n  font-weight: 600;\\n}\\n\\n.group-title {\\n  font-size: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3RhYjIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kseUJBQUE7QUFDSjs7QUFDRTtFQUNFLGFBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLGNBQUE7RUFDQSxnQkFBQTtBQUVKOztBQUFFO0VBQ0UsZUFBQTtBQUdKIiwiZmlsZSI6InRhYjIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQgaW9uLXRvb2xiYXIge1xuICAgIC0tYmFja2dyb3VuZDogdHJhbnNsdWNlbnQ7XG4gIH1cbiAgLmJveCB7XG4gICAgaGVpZ2h0OiAxNTBweDtcbiAgICBtYXJnaW46IDIwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgZm9udC1zaXplOiA1dnc7XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgfVxuICAuZ3JvdXAtdGl0bGUge1xuICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgfSJdfQ== */\";","/* eslint-disable prefer-arrow/prefer-arrow-functions */\n/* eslint-disable eqeqeq */\n/* eslint-disable @angular-eslint/use-lifecycle-interface */\n/* eslint-disable @typescript-eslint/no-inferrable-types */\nimport { Component, OnInit } from '@angular/core';\nimport * as firebase from 'firebase';\nimport { snapshotToArray } from '../../environments/environment';\n\n@Component({\n  selector: 'app-tab2',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss'],\n})\nexport class Tab2Page {\n  public status = false;\n  item: any;\n  ref = firebase.database().ref('/');\n  lowVolteBatt: number = 0;\n  lowCurrentBatt = 0;\n  timeStart = '11:12';\n  timeStop = '01:00';\n  enableTime = false;\n  lowCurrentSolar = 0;\n  lowVolteSolar = 0;\n  constructor() {}\n\n  async ngOnInit() {\n    // เชื่อมต่อ firebase\n    // this.ref.on('value', (resp) => {\n    //   this.item = snapshotToArray(resp);\n    //   // ตรวจสอบสถานะ เปิดหรือปิด\n    //   if (this.item[0].enable == 1) {\n    //     this.status = false;\n    //   } else {\n    //     this.status = true;\n    //   }\n    // });\n    // เชื่อมต่อ firebase\n    this.connectFirebase(this.ref).then((res) => {\n      this.item = res;\n      //ตรวจสอบสถานะว่าเปิดหรือปิด\n      if (res[0].enable == 1) {\n        this.status = false;\n      } else {\n        this.status = true;\n      }\n      // เซ็ตค่าต่างๆจาก firebase ลง แอพ\n      this.lowCurrentBatt = res[0].lowCurrentBatt;\n      this.lowCurrentSolar = res[0].lowCurrentSolar;\n      this.lowVolteBatt = res[0].lowVolteBatt;\n      this.lowVolteSolar = res[0].lowVolteSolar;\n      this.enableTime = res[0].enableTime;\n      this.timeStart = res[0].timeStart;\n      this.timeStop = res[0].timeStop;\n    });\n  }\n\n  // เชื่อมต่อ firebase\n  connectFirebase(ref) {\n    let item = [];\n    return new Promise(function(resolve, reject) {\n      ref.on('value', (resp) => {\n        item = snapshotToArray(resp);\n        resolve(item);\n      });\n    });\n  }\n\n  //อัพเดทค่าใน firebase\n  async upItem(key, item) {\n    firebase\n      .database()\n      .ref('test/' + key)\n      .set(parseFloat(item));\n  }\n\n  //อัพเดทค่าใน เวลาซึ่งเป็นสตริง\n  async upTime(key, item) {\n    firebase\n      .database()\n      .ref('test/' + key)\n      .set(item);\n  }\n\n  // อัพเดทสถานะเปิดปิด\n  setStatus() {\n    this.status = !this.status;\n    //ถ้ามีการกดปุ่มเปิดปิด ให้อัพเดทสถานะใน firebase\n    if (this.status == true) {\n      this.upItem('enable', 0);\n    } else {\n      this.upItem('enable', 1);\n    }\n  }\n\n  // อัพเดทตัวตั้งเวลา\n  setEnableTime() {\n     //ถ้ามีการกดปุ่มเปิดปิดตั้งเวลา ให้อัพเดทใน firebase\n    if (this.enableTime == false) {\n      this.upItem('enableTime', 0);\n    } else {\n      this.upItem('enableTime', 1);\n    }\n  }\n}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab2Page } from './tab2.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\n\nimport { Tab2PageRoutingModule } from './tab2-routing.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    Tab2PageRoutingModule\n  ],\n  declarations: [Tab2Page]\n})\nexport class Tab2PageModule {}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab2Page } from './tab2.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab2Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab2PageRoutingModule {}\n","export default \"<ion-content [fullscreen]=\\\"true\\\">\\n  <div class=\\\"container\\\">\\n    <div class=\\\"row\\\">\\n      <button\\n        [disabled]=\\\"!this.status\\\"\\n        (click)=\\\"setStatus()\\\"\\n        class=\\\"col box btn btn-success\\\"\\n      >\\n        ON\\n      </button>\\n      <button\\n        [disabled]=\\\"this.status\\\"\\n        (click)=\\\"setStatus()\\\"\\n        class=\\\"col box btn btn-danger\\\"\\n      >\\n        OFF\\n      </button>\\n    </div>\\n    <label class=\\\"group-title\\\">แบตเตอรี่</label>\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-6\\\">\\n        <label class=\\\"form-label\\\">แรงดันขั้นต่ำ</label>\\n        <div class=\\\"mb-3 d-flex\\\">\\n          <input\\n            [(ngModel)]=\\\"lowVolteBatt\\\"\\n            type=\\\"text\\\"\\n            class=\\\"form-control w-100\\\"\\n          />\\n          <button\\n            (click)=\\\"upItem('lowVolteBatt',this.lowVolteBatt)\\\"\\n            class=\\\"btn btn-primary ml-2\\\"\\n          >\\n            set\\n          </button>\\n        </div>\\n      </div>\\n      <div class=\\\"col-6\\\">\\n        <label class=\\\"form-label\\\">กระแสขั้นต่ำ</label>\\n        <div class=\\\"mb-3 d-flex\\\">\\n          <input\\n            [(ngModel)]=\\\"lowCurrentBatt\\\"\\n            type=\\\"text\\\"\\n            class=\\\"form-control w-100\\\"\\n          />\\n          <button\\n            (click)=\\\"upItem('lowCurrentBatt',this.lowCurrentBatt)\\\"\\n            class=\\\"btn btn-primary ml-2\\\"\\n          >\\n            set\\n          </button>\\n        </div>\\n      </div>\\n    </div>\\n    <label class=\\\"group-title mt-3\\\">โซล่าเซลล์</label>\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-6\\\">\\n        <label class=\\\"form-label\\\">แรงดันขั้นต่ำ</label>\\n        <div class=\\\"mb-3 d-flex\\\">\\n          <input\\n            [(ngModel)]=\\\"lowVolteSolar\\\"\\n            type=\\\"text\\\"\\n            class=\\\"form-control w-100\\\"\\n          />\\n          <button\\n            (click)=\\\"upItem('lowVolteSolar',this.lowVolteSolar)\\\"\\n            class=\\\"btn btn-primary ml-2\\\"\\n          >\\n            set\\n          </button>\\n        </div>\\n      </div>\\n      <div class=\\\"col-6\\\">\\n        <label class=\\\"form-label\\\">กระแสขั้นต่ำ</label>\\n        <div class=\\\"mb-3 d-flex\\\">\\n          <input\\n            [(ngModel)]=\\\"lowCurrentSolar\\\"\\n            type=\\\"text\\\"\\n            class=\\\"form-control w-100\\\"\\n          />\\n          <button\\n            (click)=\\\"upItem('lowCurrentSolar',this.lowCurrentSolar)\\\"\\n            class=\\\"btn btn-primary ml-2\\\"\\n          >\\n            set\\n          </button>\\n        </div>\\n      </div>\\n    </div>\\n    <div mode=\\\"ios\\\" class=\\\"d-flex\\\">\\n      <ion-toggle\\n        (ionChange)=\\\"setEnableTime()\\\"\\n        [(ngModel)]=\\\"this.enableTime\\\"\\n        slot=\\\"start\\\"\\n        name=\\\"blueberry\\\"\\n        checked\\n      ></ion-toggle>\\n      <ion-label class=\\\"ml-2 mt-1\\\">ตั้งเวลาการทำงาน</ion-label>\\n    </div>\\n    <div class=\\\"row mt-3\\\">\\n      <div class=\\\"col-6\\\">\\n        <label class=\\\"form-label\\\">เวลาเปิด</label>\\n        <div class=\\\"mb-3 d-flex\\\">\\n          <ion-datetime\\n            [disabled]=\\\"!this.enableTime\\\"\\n            [(ngModel)]=\\\"timeStart\\\"\\n            class=\\\"form-control\\\"\\n            displayFormat=\\\"HH:mm\\\"\\n          ></ion-datetime>\\n          <button\\n            [disabled]=\\\"!this.enableTime\\\"\\n            (click)=\\\"upTime('timeStart',this.timeStart)\\\"\\n            class=\\\"btn btn-primary ml-2\\\"\\n          >\\n            set\\n          </button>\\n        </div>\\n      </div>\\n      <div class=\\\"col-6\\\">\\n        <label class=\\\"form-label\\\">เวลาปิด</label>\\n        <div class=\\\"mb-3 d-flex\\\">\\n          <ion-datetime\\n            [disabled]=\\\"!this.enableTime\\\"\\n            [(ngModel)]=\\\"timeStop\\\"\\n            class=\\\"form-control\\\"\\n            displayFormat=\\\"HH:mm\\\"\\n          ></ion-datetime>\\n          <button\\n            [disabled]=\\\"!this.enableTime\\\"\\n            (click)=\\\"upTime('timeStop',this.timeStop)\\\"\\n            class=\\\"btn btn-primary ml-2\\\"\\n          >\\n            set\\n          </button>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}